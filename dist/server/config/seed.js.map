{"version":3,"sources":["config/seed.js"],"names":["seedDatabaseIfNeeded","seedDB","find","remove","then","thing","create","name","info","console","log","catch","err","junction","lat","lon","device","timestamp","macadd","provider","email","password","role"],"mappings":"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","file":"seed.js","sourcesContent":["/**\n * Populate DB with sample data on server start\n * to disable, edit config/environment/index.js, and set `seedDB: false`\n */\n\n'use strict';\nimport Thing from '../api/thing/thing.model';\nimport User from '../api/user/user.model';\nimport TrafficData from '../api/trafficData/trafficData.model';\nimport DeviceData from '../api/deviceData/deviceData.model';\nimport config from './environment/';\n\nexport default function seedDatabaseIfNeeded() {\n  if(config.seedDB) {\n    Thing.find({}).remove()\n      .then(() => {\n        let thing = Thing.create({\n          name: 'Development Tools',\n          info: 'Integration with popular tools such as Webpack, Gulp, Babel, TypeScript, Karma, '\n                + 'Mocha, ESLint, Node Inspector, Livereload, Protractor, Pug, '\n                + 'Stylus, Sass, and Less.'\n        }, {\n          name: 'Server and Client integration',\n          info: 'Built with a powerful and fun stack: MongoDB, Express, '\n                + 'AngularJS, and Node.'\n        }, {\n          name: 'Smart Build System',\n          info: 'Build system ignores `spec` files, allowing you to keep '\n                + 'tests alongside code. Automatic injection of scripts and '\n                + 'styles into your index.html'\n        }, {\n          name: 'Modular Structure',\n          info: 'Best practice client and server structures allow for more '\n                + 'code reusability and maximum scalability'\n        }, {\n          name: 'Optimized Build',\n          info: 'Build process packs up your templates as a single JavaScript '\n                + 'payload, minifies your scripts/css/images, and rewrites asset '\n                + 'names for caching.'\n        }, {\n          name: 'Deployment Ready',\n          info: 'Easily deploy your app to Heroku or Openshift with the heroku '\n                + 'and openshift subgenerators'\n        });\n        return thing;\n      })\n      .then(() => console.log('finished populating things'))\n      .catch(err => console.log('error populating things', err));\n\n    DeviceData.find({}).remove()\n    .then(() => {\n        DeviceData.create({\n          junction: 1,\n          lat: 0,\n          lon: 0\n        },{\n          junction: 2,\n          lat:1,\n          lon:1\n        }, {\n          junction: 3,\n          lat: 3,\n          lon: 3\n        }, {\n          junction: 4,\n          lat: 4,\n          lon: 4\n        })\n        .then(() => console.log('finished populating DeviceData'))\n        .catch(err => console.log('error populating DeviceData', err));\n    });\n\n    TrafficData.find({}).remove()\n      .then(() => {\n        TrafficData.create({\n          device: 1,\n          timestamp: 1,\n          macadd: '1111.1111.1111.1111'\n        },{\n          device: 2,\n          timestamp: 2,\n          macadd: '2222.2222.2222.2222'\n        },{\n          device: 3,\n          timestamp: 3,\n          macadd: '3333.3333.3333.3333'\n        },{\n          device: 4,\n          timestamp: 4,\n          macadd: '4444.4444.4444.4444'\n        })\n        .then(() => console.log('finished populating TrafficData'))\n        .catch(err => console.log('error populating TrafficData', err));\n      });\n\n    User.find({}).remove()\n      .then(() => {\n        User.create({\n          provider: 'local',\n          name: 'Test User',\n          email: 'test@example.com',\n          password: 'test'\n        }, {\n          provider: 'local',\n          role: 'admin',\n          name: 'Admin',\n          email: 'admin@example.com',\n          password: 'admin'\n        })\n        .then(() => console.log('finished populating users'))\n        .catch(err => console.log('error populating users', err));\n      });\n  }\n}\n"]}